import{o,c as n,a as s,n as k,F as h,r as S,t as i,b as v,d as C,_ as $,u as T,e as w,f as V,g as x,h as B,i as A,j as F,k as N,l as z,m as D}from"./index-CwufXl_y.js";const E={key:0,class:"flex flex-wrap items-center gap-2 mb-4"},R=["onClick"],U={__name:"TagFilter",props:{tags:{type:Array,default:()=>[]}},emits:["update:selected"],setup(p,{emit:_}){const y=_,c=C([]);function f(r){const m=c.value.indexOf(r);m===-1?c.value.push(r):c.value.splice(m,1),y("update:selected",[...c.value])}function d(r){return c.value.includes(r)}function e(){c.value=[],y("update:selected",[])}return(r,m)=>p.tags.length?(o(),n("div",E,[s("button",{onClick:e,class:k(["text-xs px-3 py-1.5 rounded-full transition-colors",c.value.length===0?"bg-accent-blue/20 text-accent-blue":"bg-bg-card text-text-secondary hover:text-text-primary border border-border-subtle"])}," å…¨éƒ¨ ",2),(o(!0),n(h,null,S(p.tags,u=>(o(),n("button",{key:u,onClick:b=>f(u),class:k(["text-xs px-3 py-1.5 rounded-full transition-colors",d(u)?"bg-accent-blue/20 text-accent-blue":"bg-bg-card text-text-secondary hover:text-text-primary border border-border-subtle"])},i(u),11,R))),128))])):v("",!0)}},j={class:"max-w-4xl mx-auto px-4 py-6"},G={key:0,class:"text-center py-20"},H={class:"text-text-secondary"},I={class:"mb-6"},L={class:"flex items-center gap-3 mb-2"},M={class:"text-4xl"},O={class:"font-display text-xl font-bold text-accent-blue"},P={class:"text-text-secondary text-sm"},q={key:0,class:"text-text-secondary text-sm mt-1"},J={class:"flex items-center gap-3 mt-2"},K={class:"text-text-secondary text-xs"},Q={key:0,class:"flex items-center gap-1.5"},W={class:"text-text-secondary text-xs"},X={class:"flex flex-col gap-3"},Y={key:0,class:"text-center py-10"},Z={__name:"SymbolView",setup(p){const _=F(),{getSymbol:y,state:c}=A(),{markSymbolRead:f}=B(),d=x(()=>_.params.symbol),e=x(()=>y(d.value)),r=C([]),m=x(()=>{if(!e.value?.posts)return[];const l=new Set;for(const a of e.value.posts)a.tags&&a.tags.forEach(t=>l.add(t));return[...l]}),u=x(()=>{if(!e.value?.posts)return null;const l=e.value.posts.filter(t=>t.review);if(l.length===0)return null;const a=l.reduce((t,g)=>t+g.review.accuracy,0);return{avg:Math.round(a/l.length),count:l.length}}),b=x(()=>e.value?.posts?r.value.length===0?e.value.posts:e.value.posts.filter(l=>l.tags&&l.tags.some(a=>r.value.includes(a))):[]);return e.value?.posts?.[0]?.date&&f(d.value,e.value.posts[0].date),(l,a)=>(o(),n("div",j,[!T(c).loading&&!e.value?(o(),n("div",G,[s("p",H,"æœªæ‰¾åˆ° Symbol: "+i(d.value),1)])):e.value?(o(),n(h,{key:1},[s("div",I,[s("div",L,[s("span",M,i(e.value.icon||"ğŸ“Š"),1),s("div",null,[s("h1",O,i(e.value.code),1),s("p",P,i(e.value.name),1)])]),e.value.description?(o(),n("p",q,i(e.value.description),1)):v("",!0),s("div",J,[s("p",K," å…± "+i(e.value.posts?.length||0)+" ç¯‡é¢„æµ‹ ",1),u.value?(o(),n("div",Q,[a[1]||(a[1]=s("span",{class:"text-text-secondary text-xs"},"å¹³å‡å‡†ç¡®ç‡",-1)),w(V,{accuracy:u.value.avg},null,8,["accuracy"]),s("span",W,"("+i(u.value.count)+" ç¯‡å¤ç›˜)",1)])):v("",!0)])]),w(U,{tags:m.value,"onUpdate:selected":a[0]||(a[0]=t=>r.value=t)},null,8,["tags"]),s("div",X,[(o(!0),n(h,null,S(b.value,(t,g)=>(o(),N(D,{key:t.folder,"symbol-code":e.value.code,"symbol-name":e.value.name,"symbol-icon":e.value.icon,date:t.date,folder:t.folder,title:t.title,subtitle:t.subtitle,summary:t.summary,tags:t.tags,review:t.review,"show-symbol":!1,style:z({animationDelay:`${g*60}ms`}),class:"animate-fade-in"},null,8,["symbol-code","symbol-name","symbol-icon","date","folder","title","subtitle","summary","tags","review","style"]))),128))]),b.value.length===0?(o(),n("div",Y,[...a[2]||(a[2]=[s("p",{class:"text-text-secondary text-sm"},"æ²¡æœ‰åŒ¹é…çš„é¢„æµ‹",-1)])])):v("",!0)],64)):v("",!0)]))}},te=$(Z,[["__scopeId","data-v-59a1d4af"]]);export{te as default};
